import{a as oe,b as ae}from"./chunk-CIXMSZOG.js";import{a as Y,b as Z,c as $,f as ee,g as te,i as re,j as ie}from"./chunk-GB3YFILF.js";import{b as H,d as l,f as z,g as J,j as K,k as Q,l as U,m as W,o as X}from"./chunk-L6GGPMM5.js";import"./chunk-EJJBCPAK.js";import{a as L,b as q,c as A,e as O,f as j,g as B,j as G}from"./chunk-FQZKZCJT.js";import{c as I,d as R}from"./chunk-KZT4FSI7.js";import{h as P,i as F,ma as N,oa as k,pa as T,qa as V,ra as D}from"./chunk-EKTKUZHI.js";import{Cb as r,Db as t,Eb as u,Fc as E,Ic as x,Lb as f,Xb as i,Ya as a,Yb as h,Za as c,Zb as S,cc as y,ja as M,ob as p,sb as g,tb as m}from"./chunk-5JFI4D3N.js";function me(o,n){o&1&&(r(0,"mat-error"),i(1," Name is required "),t())}function se(o,n){o&1&&(r(0,"mat-error"),i(1," Email is required "),t())}function le(o,n){o&1&&(r(0,"mat-error"),i(1," Please enter a valid email address "),t())}function de(o,n){o&1&&(r(0,"mat-error"),i(1," Password is required "),t())}function pe(o,n){o&1&&(r(0,"mat-error"),i(1," Password must be at least 6 characters "),t())}function ue(o,n){o&1&&(r(0,"mat-error"),i(1," Please confirm your password "),t())}function ce(o,n){o&1&&(r(0,"mat-error"),i(1," Passwords do not match "),t())}function fe(o,n){o&1&&(r(0,"mat-card-footer",17),u(1,"mat-progress-bar",18),t())}var ne=class o{constructor(n,s,e,d){this.fb=n;this.authService=s;this.notificationService=e;this.router=d;this.registerForm=this.fb.group({name:["",[l.required]],email:["",[l.required,l.email]],password:["",[l.required,l.minLength(6)]],passwordConfirm:["",[l.required]]},{validators:this.passwordMatchValidator})}registerForm;hidePassword=!0;hidePasswordConfirm=!0;isLoading=!1;passwordMatchValidator(n){let s=n.get("password"),e=n.get("passwordConfirm");return s&&e&&s.value!==e.value?{passwordMismatch:!0}:null}onSubmit(){this.registerForm.valid?(this.isLoading=!0,this.authService.register(this.registerForm.value).subscribe({next:n=>{this.isLoading=!1,this.router.navigate(["/"])},error:n=>{this.isLoading=!1,this.notificationService.showError(n.message||"Registration failed. Please try again.")}})):this.registerForm.markAllAsTouched()}static \u0275fac=function(s){return new(s||o)(c(W),c(R),c(I),c(P))};static \u0275cmp=M({type:o,selectors:[["app-register"]],standalone:!0,features:[y],decls:51,vars:19,consts:[[1,"auth-container"],[1,"auth-card-wrapper","slide-up"],[1,"auth-card"],[1,"auth-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"form-field"],["matInput","","formControlName","name","placeholder","John Doe"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","email","type","email","placeholder","your.email@example.com"],["matInput","","formControlName","password","placeholder","Password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","passwordConfirm","placeholder","Confirm Password",3,"type"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",1,"submit-btn",3,"disabled"],[1,"auth-links"],["routerLink","/login"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"],["mode","indeterminate"]],template:function(s,e){if(s&1&&(r(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),i(5,"Register for PowerFit Gym"),t()(),r(6,"mat-card-content")(7,"form",3),f("ngSubmit",function(){return e.onSubmit()}),r(8,"mat-form-field",4)(9,"mat-label"),i(10,"Full Name"),t(),u(11,"input",5),r(12,"mat-icon",6),i(13,"person"),t(),p(14,me,2,0,"mat-error",7),t(),r(15,"mat-form-field",4)(16,"mat-label"),i(17,"Email"),t(),u(18,"input",8),r(19,"mat-icon",6),i(20,"email"),t(),p(21,se,2,0,"mat-error",7)(22,le,2,0,"mat-error",7),t(),r(23,"mat-form-field",4)(24,"mat-label"),i(25,"Password"),t(),u(26,"input",9),r(27,"button",10),f("click",function(){return e.hidePassword=!e.hidePassword}),r(28,"mat-icon"),i(29),t()(),p(30,de,2,0,"mat-error",7)(31,pe,2,0,"mat-error",7),t(),r(32,"mat-form-field",4)(33,"mat-label"),i(34,"Confirm Password"),t(),u(35,"input",11),r(36,"button",10),f("click",function(){return e.hidePasswordConfirm=!e.hidePasswordConfirm}),r(37,"mat-icon"),i(38),t()(),p(39,ue,2,0,"mat-error",7)(40,ce,2,0,"mat-error",7),t(),r(41,"div",12)(42,"button",13),i(43),t()()()(),r(44,"mat-card-actions")(45,"div",14)(46,"span"),i(47,"Already have an account?"),t(),r(48,"a",15),i(49,"Login"),t()()(),p(50,fe,2,0,"mat-card-footer",16),t()()()),s&2){let d,_,v,C,b,w;a(7),m("formGroup",e.registerForm),a(7),m("ngIf",(d=e.registerForm.get("name"))==null?null:d.hasError("required")),a(7),m("ngIf",(_=e.registerForm.get("email"))==null?null:_.hasError("required")),a(),m("ngIf",(v=e.registerForm.get("email"))==null?null:v.hasError("email")),a(4),m("type",e.hidePassword?"password":"text"),a(),g("aria-label","Hide password")("aria-pressed",e.hidePassword),a(2),h(e.hidePassword?"visibility_off":"visibility"),a(),m("ngIf",(C=e.registerForm.get("password"))==null?null:C.hasError("required")),a(),m("ngIf",(b=e.registerForm.get("password"))==null?null:b.hasError("minlength")),a(4),m("type",e.hidePasswordConfirm?"password":"text"),a(),g("aria-label","Hide password")("aria-pressed",e.hidePasswordConfirm),a(2),h(e.hidePasswordConfirm?"visibility_off":"visibility"),a(),m("ngIf",(w=e.registerForm.get("passwordConfirm"))==null?null:w.hasError("required")),a(),m("ngIf",e.registerForm.hasError("passwordMismatch")),a(2),m("disabled",e.registerForm.invalid||e.isLoading),a(),S(" ",e.isLoading?"Registering...":"Register"," "),a(7),m("ngIf",e.isLoading)}},dependencies:[x,E,F,X,K,H,z,J,Q,U,G,L,O,A,B,j,q,te,ee,Y,Z,$,ie,re,T,N,k,D,V,ae,oe],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 128px);background:linear-gradient(#00000080,#00000080),url(https://images.pexels.com/photos/1954524/pexels-photo-1954524.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1);background-size:cover;background-position:center;padding:24px}.auth-card-wrapper[_ngcontent-%COMP%]{max-width:480px;width:100%}.auth-card[_ngcontent-%COMP%]{padding:24px;box-shadow:var(--shadow-lg);background-color:#fffffff2}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:16px}.form-field[_ngcontent-%COMP%]{margin-bottom:16px}.form-actions[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:flex-end}.submit-btn[_ngcontent-%COMP%]{min-width:120px}.auth-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;margin-top:8px;font-size:.875rem}.loading-indicator[_ngcontent-%COMP%]{margin-top:16px}"]})};export{ne as RegisterComponent};
