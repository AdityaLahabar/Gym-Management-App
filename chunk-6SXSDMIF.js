import{a as U,b as q}from"./chunk-VNYGLEJY.js";import{a as W,b as X,c as Z,f as $,g as ee,i as te,j as ie}from"./chunk-KJYWCLP3.js";import{b as V,d as M,f as R,g as Y,j as z,k as H,l as J,m as K,o as Q}from"./chunk-72S4KMMN.js";import"./chunk-EJJBCPAK.js";import{a as F,b as O,c as T,d as k,e as A,f as D,i as L,j as B}from"./chunk-3TOQYKAU.js";import{c as y,d as x}from"./chunk-UQLXCD4R.js";import{ma as E,oa as I,pa as N,qa as j,ra as G}from"./chunk-EJYB65PO.js";import{j as S,l as b,m as w}from"./chunk-N6P3D6GX.js";import{$a as u,$b as r,Eb as t,Fb as i,Gb as a,Pb as f,_a as n,ac as l,bc as c,gc as _,ic as g,jc as C,ka as P,qb as v,vb as o}from"./chunk-E777HTRJ.js";function ne(m,p){m&1&&(t(0,"mat-error"),r(1," Name is required "),i())}function ae(m,p){m&1&&(t(0,"mat-error"),r(1," Password must be at least 6 characters "),i())}var re=class m{constructor(p,d,e){this.authService=p;this.fb=d;this.notificationService=e;this.user=this.authService.user(),this.profileForm=this.fb.group({name:[this.user?.name,[M.required]],email:[{value:this.user?.email,disabled:!0}],currentPassword:[""],newPassword:["",[M.minLength(6)]]})}user=null;profileForm;isLoading=!1;hideCurrentPassword=!0;hideNewPassword=!0;saveProfile(){this.profileForm.valid&&(this.isLoading=!0,setTimeout(()=>{this.isLoading=!1,this.notificationService.showSuccess("Profile updated successfully")},1e3))}static \u0275fac=function(d){return new(d||m)(u(x),u(K),u(y))};static \u0275cmp=P({type:m,selectors:[["app-profile"]],standalone:!0,features:[_],decls:78,vars:21,consts:[[1,"container","profile-container"],[1,"page-title"],[1,"profile-content"],[1,"profile-card","fade-in"],["mat-card-avatar","",1,"profile-avatar"],[1,"profile-details"],[1,"profile-detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"profile-form-card","slide-up"],[1,"profile-form",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","name","placeholder","Your full name"],[4,"ngIf"],["matInput","","formControlName","email","type","email","placeholder","Your email","readonly",""],["matSuffix","","matTooltip","Email cannot be changed"],[1,"password-section"],["matInput","","formControlName","currentPassword",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","newPassword",3,"type"],["mat-raised-button","","color","primary",3,"click","disabled"]],template:function(d,e){if(d&1&&(t(0,"div",0)(1,"h1",1),r(2,"My Profile"),i(),t(3,"div",2)(4,"mat-card",3)(5,"mat-card-header")(6,"div",4)(7,"mat-icon"),r(8),i()(),t(9,"mat-card-title"),r(10),i(),t(11,"mat-card-subtitle"),r(12),i()(),t(13,"mat-card-content")(14,"div",5)(15,"div",6)(16,"div",7),r(17,"Membership Number"),i(),t(18,"div",8),r(19),i()(),a(20,"mat-divider"),t(21,"div",6)(22,"div",7),r(23,"Account Type"),i(),t(24,"div",8),r(25),i()(),a(26,"mat-divider"),t(27,"div",6)(28,"div",7),r(29,"Member Since"),i(),t(30,"div",8),r(31),g(32,"date"),i()(),a(33,"mat-divider"),t(34,"div",6)(35,"div",7),r(36,"Last Login"),i(),t(37,"div",8),r(38),g(39,"date"),i()()()()(),t(40,"mat-card",9)(41,"mat-card-header")(42,"mat-card-title"),r(43,"Update Profile"),i()(),t(44,"mat-card-content")(45,"form",10)(46,"mat-form-field",11)(47,"mat-label"),r(48,"Full Name"),i(),a(49,"input",12),v(50,ne,2,0,"mat-error",13),i(),t(51,"mat-form-field",11)(52,"mat-label"),r(53,"Email"),i(),a(54,"input",14),t(55,"mat-icon",15),r(56,"info"),i()(),t(57,"div",16)(58,"h3"),r(59,"Change Password"),i(),t(60,"mat-form-field",11)(61,"mat-label"),r(62,"Current Password"),i(),a(63,"input",17),t(64,"button",18),f("click",function(){return e.hideCurrentPassword=!e.hideCurrentPassword}),t(65,"mat-icon"),r(66),i()()(),t(67,"mat-form-field",11)(68,"mat-label"),r(69,"New Password"),i(),a(70,"input",19),t(71,"button",18),f("click",function(){return e.hideNewPassword=!e.hideNewPassword}),t(72,"mat-icon"),r(73),i()(),v(74,ae,2,0,"mat-error",13),i()()()(),t(75,"mat-card-actions")(76,"button",20),f("click",function(){return e.saveProfile()}),r(77," Save Changes "),i()()()()()),d&2){let s,h;n(8),l((e.user==null?null:e.user.role)==="admin"?"admin_panel_settings":"fitness_center"),n(2),l(e.user==null?null:e.user.name),n(2),l(e.user==null?null:e.user.email),n(7),l(e.user==null?null:e.user.membershipNumber),n(6),c(" ",(e.user==null?null:e.user.role)==="admin"?"Administrator":"Member"," "),n(6),c(" ",C(32,15,e.user==null?null:e.user.createdAt,"mediumDate")," "),n(7),c(" ",C(39,18,e.user==null?null:e.user.lastLogin,"medium")," "),n(7),o("formGroup",e.profileForm),n(5),o("ngIf",(s=e.profileForm.get("name"))==null?null:s.hasError("required")),n(13),o("type",e.hideCurrentPassword?"password":"text"),n(3),l(e.hideCurrentPassword?"visibility_off":"visibility"),n(4),o("type",e.hideNewPassword?"password":"text"),n(3),l(e.hideNewPassword?"visibility_off":"visibility"),n(),o("ngIf",(h=e.profileForm.get("newPassword"))==null?null:h.hasError("minlength")),n(2),o("disabled",e.profileForm.invalid||e.isLoading)}},dependencies:[w,S,b,Q,z,V,R,Y,H,J,B,F,A,L,T,D,k,O,ee,$,W,X,Z,ie,te,N,E,I,G,j,q,U],styles:[".profile-container[_ngcontent-%COMP%]{padding:24px 16px}.page-title[_ngcontent-%COMP%]{margin-bottom:24px;text-align:center}.profile-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:24px;max-width:800px;margin:0 auto}@media (min-width: 768px){.profile-content[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.profile-card[_ngcontent-%COMP%], .profile-form-card[_ngcontent-%COMP%]{height:100%}.profile-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--primary);color:#fff}.profile-details[_ngcontent-%COMP%]{margin-top:24px}.profile-detail-item[_ngcontent-%COMP%]{padding:16px 0;display:flex;justify-content:space-between;align-items:center}.detail-label[_ngcontent-%COMP%]{font-weight:600;color:var(--gray-600)}.detail-value[_ngcontent-%COMP%]{font-weight:500}.profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:16px}.password-section[_ngcontent-%COMP%]{margin-top:16px}.password-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:16px;font-size:1.1rem;color:var(--gray-800)}.mat-mdc-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:16px}"]})};export{re as ProfileComponent};
