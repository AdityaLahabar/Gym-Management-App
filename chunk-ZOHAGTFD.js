import{a as ie,b as re}from"./chunk-EZOW7QET.js";import{a as W,b as X,c as Y,f as Z,g as $,i as ee,j as te}from"./chunk-OIBLF6JS.js";import{b as G,d as u,f as z,g as U,j as V,k as H,l as J,m as K,o as Q}from"./chunk-U762ZJBY.js";import"./chunk-EJJBCPAK.js";import{a as k,b as N,c as A,e as j,f as B,g as R,j as T}from"./chunk-U2PRCF4C.js";import{c as E,d as F}from"./chunk-S46PGCVJ.js";import{f as y,h as P,i as w,ma as L,oa as I,pa as O,qa as q,ra as D}from"./chunk-CN72DSDW.js";import{j as C,n as S}from"./chunk-BRPU6MQJ.js";import{$a as d,$b as r,Eb as t,Fb as e,Gb as c,Pb as g,_a as o,ac as _,bc as M,gc as x,ka as v,qb as p,ub as b,vb as l}from"./chunk-HFY3FSCH.js";function ne(n,a){n&1&&(t(0,"mat-error"),r(1," Email is required "),e())}function ae(n,a){n&1&&(t(0,"mat-error"),r(1," Please enter a valid email address "),e())}function me(n,a){n&1&&(t(0,"mat-error"),r(1," Password is required "),e())}function le(n,a){n&1&&(t(0,"mat-card-footer",16),c(1,"mat-progress-bar",17),e())}var oe=class n{constructor(a,m,i,s,f){this.fb=a;this.authService=m;this.notificationService=i;this.router=s;this.route=f;this.loginForm=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required]]})}loginForm;hidePassword=!0;isLoading=!1;onSubmit(){if(this.loginForm.valid){this.isLoading=!0;let a=this.loginForm.value;this.authService.login(a).subscribe({next:m=>{this.isLoading=!1;let i=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigateByUrl(i)},error:m=>{this.isLoading=!1,this.notificationService.showError(m.message||"Login failed. Please try again.")}})}else this.loginForm.markAllAsTouched()}static \u0275fac=function(m){return new(m||n)(d(K),d(F),d(E),d(P),d(y))};static \u0275cmp=v({type:n,selectors:[["app-login"]],standalone:!0,features:[x],decls:45,vars:11,consts:[[1,"auth-container"],[1,"auth-card-wrapper","slide-up"],[1,"auth-card"],[1,"auth-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"form-field"],["matInput","","formControlName","email","type","email","placeholder","your.email@example.com"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",1,"submit-btn",3,"disabled"],[1,"auth-links"],["routerLink","/register"],["class","loading-indicator",4,"ngIf"],[1,"auth-help-card"],[1,"loading-indicator"],["mode","indeterminate"]],template:function(m,i){if(m&1&&(t(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),r(5,"Login to PowerFit Gym"),e()(),t(6,"mat-card-content")(7,"form",3),g("ngSubmit",function(){return i.onSubmit()}),t(8,"mat-form-field",4)(9,"mat-label"),r(10,"Email"),e(),c(11,"input",5),t(12,"mat-icon",6),r(13,"email"),e(),p(14,ne,2,0,"mat-error",7)(15,ae,2,0,"mat-error",7),e(),t(16,"mat-form-field",4)(17,"mat-label"),r(18,"Password"),e(),c(19,"input",8),t(20,"button",9),g("click",function(){return i.hidePassword=!i.hidePassword}),t(21,"mat-icon"),r(22),e()(),p(23,me,2,0,"mat-error",7),e(),t(24,"div",10)(25,"button",11),r(26),e()()()(),t(27,"mat-card-actions")(28,"div",12)(29,"span"),r(30,"Don't have an account?"),e(),t(31,"a",13),r(32,"Register"),e()()(),p(33,le,2,0,"mat-card-footer",14),e(),t(34,"div",15)(35,"h3"),r(36,"Demo Accounts"),e(),t(37,"p")(38,"strong"),r(39,"Admin:"),e(),r(40," admin@powerfit.com / admin123"),e(),t(41,"p")(42,"strong"),r(43,"Member:"),e(),r(44," member@powerfit.com / member123"),e()()()()),m&2){let s,f,h;o(7),l("formGroup",i.loginForm),o(7),l("ngIf",(s=i.loginForm.get("email"))==null?null:s.hasError("required")),o(),l("ngIf",(f=i.loginForm.get("email"))==null?null:f.hasError("email")),o(4),l("type",i.hidePassword?"password":"text"),o(),b("aria-label","Hide password")("aria-pressed",i.hidePassword),o(2),_(i.hidePassword?"visibility_off":"visibility"),o(),l("ngIf",(h=i.loginForm.get("password"))==null?null:h.hasError("required")),o(2),l("disabled",i.loginForm.invalid||i.isLoading),o(),M(" ",i.isLoading?"Logging in...":"Login"," "),o(7),l("ngIf",i.isLoading)}},dependencies:[S,C,w,Q,V,G,z,U,H,J,T,k,j,A,R,B,N,$,Z,W,X,Y,te,ee,O,L,I,D,q,re,ie],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 128px);background:linear-gradient(#00000080,#00000080),url(https://images.pexels.com/photos/841130/pexels-photo-841130.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1);background-size:cover;background-position:center;padding:24px}.auth-card-wrapper[_ngcontent-%COMP%]{max-width:480px;width:100%}.auth-card[_ngcontent-%COMP%]{padding:24px;box-shadow:var(--shadow-lg);background-color:#fffffff2}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:16px}.form-field[_ngcontent-%COMP%]{margin-bottom:16px}.form-actions[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:flex-end}.submit-btn[_ngcontent-%COMP%]{min-width:120px}.auth-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;margin-top:8px;font-size:.875rem}.loading-indicator[_ngcontent-%COMP%]{margin-top:16px}.auth-help-card[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background-color:#ffffffe6;border-radius:var(--border-radius);box-shadow:var(--shadow-md)}.auth-help-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px;font-size:1rem;color:var(--primary)}.auth-help-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4px;font-size:.875rem}"]})};export{oe as LoginComponent};
